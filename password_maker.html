<!-- HTML5 document declaration -->
<!DOCTYPE html>
<!-- Root element with English language setting -->
<html lang="en">
<head>
    <!-- Character encoding for proper text display -->
    <meta charset="UTF-8">
    <!-- Page title shown in browser tab -->
    <title>Password Maker | Key Safe</title>
    <!-- Responsive viewport setting for mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Google Fonts link for Inter font family -->
    <link href="https://fonts.googleapis.com/css?family=Inter:400,600,700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Internal CSS styles -->
    <style>
        /* CSS custom properties (variables) for consistent theming */
        :root {
            --background: #0f172a;          /* Dark blue background color */
            --container-bg: #1e293b;        /* Container background color */
            --primary: #3b82f6;             /* Primary blue color */
            --primary-hover: #2563eb;       /* Darker blue for hover states */
            --text: #f8fafc;                /* Light text color */
            --muted: #94a3b8;               /* Muted gray text color */
            --input-bg: #334155;            /* Input field background */
            --input-border: #475569;        /* Input border color */
            --error: #ef4444;               /* Red for error messages */
            --success: #10b981;             /* Green for success messages */
            --warning: #f59e0b;             /* Yellow/orange for warnings */
            --box-shadow: 0 10px 30px rgba(0,0,0,0.3); /* Shadow for depth */
            --gradient: linear-gradient(135deg, #3b82f6, #8b5cf6); /* Blue to purple gradient */
            --danger: #ef4444;              /* Danger/error color */
        }
       
        /* Universal reset: removes default margins and paddings, uses border-box sizing */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box; /* Includes padding and border in element's total width/height */
        }
       
        /* Body styling */
        body {
            background: var(--background); /* Dark background from variable */
            color: var(--text);            /* Light text color */
            font-family: 'Inter', Arial, sans-serif; /* Font stack */
            min-height: 100vh;             /* Minimum full viewport height */
            line-height: 1.6;              /* Improves readability with spacing between lines */
        }
       
        /* Top navigation bar - fixed at top of screen */
        .top-bar {
            width: 100%;                   /* Full width */
            height: 70px;                  /* Fixed height */
            background: var(--container-bg); /* Background color */
            display: flex;                 /* Flexbox for horizontal layout */
            align-items: center;           /* Vertically centers content */
            justify-content: space-between; /* Space between left and right sections */
            padding: 0 30px;               /* Horizontal padding */
            box-sizing: border-box;        /* Include padding in width calculation */
            position: fixed;               /* Sticks to top of viewport */
            top: 0;
            left: 0;
            z-index: 100;                  /* High z-index to stay above other content */
            box-shadow: 0 2px 20px rgba(0,0,0,0.2); /* Subtle shadow for depth */
            animation: slideDown 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Entrance animation */
        }
       
        /* Keyframes for sliding down animation */
        @keyframes slideDown {
            from {
                transform: translateY(-100%); /* Starts above viewport */
                opacity: 0;                    /* Invisible */
            }
            to {
                transform: translateY(0);      /* Ends at normal position */
                opacity: 1;                    /* Fully visible */
            }
        }
       
        /* Left section of top bar */
        .bar-left {
            font-size: 1.3rem;            /* Slightly larger text */
            font-weight: bold;            /* Bold text */
            color: var(--text);           /* Light text color */
            display: flex;                /* Flexbox for horizontal layout */
            align-items: center;          /* Vertically centers items */
            gap: 15px;                    /* Space between elements */
        }
       
        /* Session timer display */
        .session-timer {
            font-size: 0.85rem;           /* Smaller text */
            color: var(--muted);          /* Muted color */
            background: var(--input-bg);  /* Background color */
            padding: 4px 10px;            /* Internal spacing */
            border-radius: 20px;          /* Rounded pill shape */
            font-weight: 500;             /* Medium weight */
        }
       
        /* Warning state for session timer */
        .session-timer.warning {
            color: var(--warning);                       /* Yellow text */
            background: rgba(245, 158, 11, 0.1);         /* Light yellow background */
        }
       
        /* Danger state for session timer */
        .session-timer.danger {
            color: var(--danger);                        /* Red text */
            background: rgba(239, 68, 68, 0.1);          /* Light red background */
        }
       
        /* Hamburger menu button for mobile navigation */
        .bar-menu {
            width: 44px;                  /* Fixed width */
            height: 44px;                 /* Fixed height (square) */
            display: flex;                /* Centers icon */
            align-items: center;
            justify-content: center;
            cursor: pointer;              /* Indicates clickable */
            position: relative;           /* For positioning children */
            z-index: 101;                 /* Above other elements */
            background: var(--input-bg);  /* Background color */
            border: none;                 /* No border */
            border-radius: 12px;          /* Rounded corners */
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Smooth animation */
        }
       
        /* Hamburger menu hover effect */
        .bar-menu:hover {
            background: var(--primary);   /* Changes to primary color */
            transform: scale(1.05);       /* Slightly enlarges */
        }
       
        /* Container for the three lines of hamburger menu */
        .bar-menu-bars {
            width: 24px;                  /* Width of hamburger icon */
            height: 18px;                 /* Height of hamburger icon */
            display: flex;                /* Flexbox for stacking lines */
            flex-direction: column;       /* Vertical stack of lines */
            justify-content: space-between; /* Even spacing between lines */
            position: relative;
            transition: all 0.3s ease;    /* Smooth transition */
        }
       
        /* Individual lines of hamburger menu */
        .bar-menu-bars span {
            display: block;               /* Makes spans behave like block elements */
            height: 3px;                  /* Thickness of lines */
            width: 100%;                  /* Full width of container */
            background: var(--text);      /* Light color */
            border-radius: 2px;           /* Slightly rounded ends */
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Smooth animation */
            transform-origin: center;     /* Rotation happens from center */
        }
       
        /* Changes hamburger lines to white on hover */
        .bar-menu:hover .bar-menu-bars span {
            background: white;
        }
       
        /* Close button (X) for menu overlay */
        .bar-menu-x {
            position: absolute;           /* Positioned relative to overlay */
            top: 0;
            right: 0;
            width: 44px;                  /* Same size as hamburger */
            height: 44px;
            display: none;                /* Hidden by default */
            justify-content: center;      /* Centers X icon */
            align-items: center;
            cursor: pointer;              /* Clickable */
            background: var(--input-bg);  /* Background color */
            border-radius: 12px;          /* Rounded corners */
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Smooth animation */
        }
       
        /* Close button hover effect */
        .bar-menu-x:hover {
            background: var(--primary);   /* Changes to primary color */
            transform: scale(1.05);       /* Slightly enlarges */
        }
       
        /* Lines that form the X shape */
        .bar-menu-x span {
            position: absolute;           /* Positioned within container */
            width: 20px;                  /* Length of X lines */
            height: 3px;                  /* Thickness of X lines */
            background: var(--text);      /* Light color */
            border-radius: 2px;           /* Slightly rounded ends */
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Smooth animation */
        }
       
        /* First line of X (rotated 45 degrees) */
        .bar-menu-x .x1 {
            transform: rotate(45deg);     /* Diagonal line */
        }
       
        /* Second line of X (rotated -45 degrees) */
        .bar-menu-x .x2 {
            transform: rotate(-45deg);    /* Opposite diagonal line */
        }
       
        /* Changes X lines to white on hover */
        .bar-menu-x:hover span {
            background: white;
        }

        /* Shows close button when menu overlay is active */
        .menu-overlay .bar-menu-x {
            display: flex !important;     /* Forces display (overrides default) */
            position: absolute;           /* Positioned in corner */
            top: 30px;                    /* From top */
            right: 30px;                  /* From right */
            z-index: 201;                 /* Above overlay content */
        }
       
        /* Full-screen menu overlay */
        .menu-overlay {
            position: fixed;              /* Covers entire viewport */
            top: 0;
            left: 0;
            width: 100vw;                 /* Full viewport width */
            height: 100vh;                /* Full viewport height */
            background: var(--container-bg); /* Background color */
            color: #fff;                  /* White text */
            z-index: 200;                 /* Above all other content */
            display: none;                /* Hidden by default */
            flex-direction: column;       /* Vertical layout */
            align-items: center;          /* Centers horizontally */
            justify-content: center;      /* Centers vertically */
            opacity: 0;                   /* Invisible by default */
            pointer-events: none;         /* Can't be interacted with */
            transition: opacity 0.35s;    /* Fade transition */
        }
       
        /* Active state for menu overlay */
        .menu-overlay.active {
            display: flex;                /* Shows overlay */
            pointer-events: all;          /* Can be interacted with */
            opacity: 1;                   /* Fully visible */
            animation: fadeInZoom 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Entrance animation */
        }
       
        /* Closing animation state */
        .menu-overlay.closing {
            opacity: 0;                   /* Fades out */
            pointer-events: none;         /* Can't be interacted with */
            animation: fadeOut 0.35s cubic-bezier(.55,.06,.68,.19); /* Exit animation */
        }
       
        /* Fade in with zoom animation */
        @keyframes fadeInZoom {
            from {
                opacity: 0;               /* Starts invisible */
                transform: scale(0.95);   /* Starts slightly smaller */
            }
            to {
                opacity: 1;               /* Ends fully visible */
                transform: scale(1);      /* Ends at normal size */
            }
        }
       
        /* Simple fade out animation */
        @keyframes fadeOut {
            from { opacity: 1; }          /* Starts visible */
            to { opacity: 0; }            /* Ends invisible */
        }
       
        /* Container for menu items */
        .menu-list {
            width: 90%;                   /* 90% of parent width */
            max-width: 400px;             /* Maximum width */
            display: flex;                /* Flexbox layout */
            flex-direction: column;       /* Vertical stack */
            gap: 16px;                    /* Space between items */
        }
       
        /* Card container for each menu item */
        .menu-item-card {
            background: var(--input-bg);  /* Background color */
            color: var(--text);           /* Text color */
            border-radius: 16px;          /* Rounded corners */
            padding: 0;                   /* No padding (handled by child) */
            box-shadow: 0 4px 20px rgba(0,0,0,0.2); /* Shadow for depth */
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Smooth animation */
            cursor: pointer;              /* Indicates clickable */
            border: none;                 /* No border by default */
            outline: none;                /* Removes focus outline */
            overflow: hidden;             /* Contains child elements */
            border: 2px solid transparent; /* Transparent border for hover effect */
        }
       
        /* Actual menu item content */
        .menu-item {
            font-size: 1.1rem;            /* Slightly larger text */
            padding: 20px 0;              /* Vertical padding */
            text-align: center;           /* Centers text */
            color: var(--text);           /* Light text color */
            border: none;                 /* No border */
            border-radius: 16px;          /* Rounded corners */
            background: none;             /* No background (uses parent's) */
            transition: all 0.3s;         /* Smooth transition */
            font-family: 'Inter', Arial, sans-serif; /* Consistent font */
            font-weight: 600;             /* Semi-bold */
            display: flex;                /* Flexbox for icon + text */
            align-items: center;          /* Vertically centers */
            justify-content: center;      /* Horizontally centers */
            gap: 12px;                    /* Space between icon and text */
        }
       
        /* Hover effect for menu item cards */
        .menu-item-card:hover {
            transform: translateY(-5px) scale(1.02); /* Lifts and slightly enlarges */
            box-shadow: 0 8px 30px rgba(59, 130, 246, 0.3); /* Blue-tinted shadow */
            border-color: var(--primary); /* Blue border */
        }
       
        /* Hover effect for menu item text */
        .menu-item:hover {
            color: var(--primary);        /* Changes to blue */
        }

        /* Special styling for logout menu item card */
        .menu-item-card.logout {
            background: var(--input-bg);  /* Standard background */
            margin-top: 10px;             /* Extra space above */
        }
       
        /* Logout menu item text */
        .menu-item-card.logout .menu-item {
            color: #fff;                  /* White text */
        }
       
        /* Hover effect for logout button */
        .menu-item-card.logout:hover {
            background: var(--danger);    /* Changes to red */
            border-color: var(--danger);  /* Red border */
            box-shadow: 0 8px 30px rgba(239, 68, 68, 0.3); /* Red-tinted shadow */
        }

        /* Main content area (below fixed top bar) */
        .main-content {
            background: var(--background); /* Dark background */
            padding-top: 90px;            /* Space for fixed top bar */
            min-height: 100vh;            /* At least full viewport height */
            min-height: 100svh;           /* Better mobile support */
            display: flex;                /* Flexbox layout */
            flex-direction: column;       /* Vertical stack */
            align-items: center;          /* Centers horizontally */
            width: 100%;                  /* Full width */
            box-sizing: border-box;       /* Includes padding in width */
            padding-bottom: 30px;         /* Bottom padding */
            animation: fadeInUp 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Entrance animation */
        }
       
        /* Fade in from bottom animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;               /* Starts invisible */
                transform: translateY(30px); /* Starts lower */
            }
            to {
                opacity: 1;               /* Ends fully visible */
                transform: translateY(0); /* Ends at normal position */
            }
        }
       
        /* Dashboard container */
        .dashboard {
            width: 90%;                   /* 90% of parent width */
            max-width: 1400px;            /* Maximum width (larger than home page) */
            display: flex;                /* Flexbox layout */
            flex-direction: column;       /* Vertical stack */
            gap: 25px;                    /* Space between sections */
        }
       
        /* Individual dashboard section */
        .dashboard-section {
            background: var(--container-bg); /* Background color */
            border-radius: 16px;          /* Rounded corners */
            padding: 25px;                /* Internal spacing */
            box-shadow: var(--box-shadow); /* Shadow for depth */
            animation: fadeInUp 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55) both; /* Staggered entrance */
        }
       
        /* Staggered animation delays for 5 sections */
        .dashboard-section:nth-child(1) { animation-delay: 0.1s; } /* First section */
        .dashboard-section:nth-child(2) { animation-delay: 0.2s; } /* Second section */
        .dashboard-section:nth-child(3) { animation-delay: 0.3s; } /* Third section */
        .dashboard-section:nth-child(4) { animation-delay: 0.4s; } /* Fourth section */
        .dashboard-section:nth-child(5) { animation-delay: 0.5s; } /* Fifth section */
       
        /* Section title styling */
        .section-title {
            font-size: 1.4rem;            /* Larger text for headings */
            font-weight: 700;             /* Bold weight */
            margin-bottom: 20px;          /* Space below title */
            color: var(--text);           /* Light text color */
            display: flex;                /* Flexbox for icon + text */
            align-items: center;          /* Vertically aligns */
            gap: 10px;                    /* Space between icon and text */
        }
       
        /* Icon color in section titles */
        .section-title i {
            color: var(--primary);        /* Blue icons */
        }
       
        /* Group container for form inputs */
        .input-group {
            display: flex;                /* Flexbox layout */
            flex-direction: column;       /* Vertical stack */
            gap: 15px;                    /* Space between inputs */
            margin-bottom: 20px;          /* Space below group */
        }
       
        /* Row layout for form inputs */
        .form-row {
            display: grid;                /* CSS Grid for layout */
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive columns */
            gap: 15px;                    /* Space between columns */
        }
       
        /* Container for individual input field with label */
        .input-field {
            display: flex;                /* Flexbox for label + input */
            flex-direction: column;       /* Vertical stack */
            gap: 8px;                     /* Space between label and input */
        }
       
        /* Input field labels */
        .input-field label {
            font-size: 0.95rem;           /* Slightly smaller text */
            font-weight: 600;             /* Semi-bold */
            color: var(--text);           /* Light text color */
        }
       
        /* Styling for text inputs and dropdowns */
        .input-field input, .input-field select {
            padding: 12px 16px;           /* Internal spacing */
            border: 2px solid var(--input-border); /* Border color */
            border-radius: 10px;          /* Rounded corners */
            background: var(--input-bg);  /* Background color */
            color: var(--text);           /* Text color */
            font-family: 'Inter', Arial, sans-serif; /* Consistent font */
            font-size: 1rem;              /* Standard text size */
            transition: all 0.3s;         /* Smooth transitions */
        }
       
        /* Focus state for inputs and selects */
        .input-field input:focus, .input-field select:focus {
            outline: none;                /* Removes default outline */
            border-color: var(--primary); /* Changes border to blue */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); /* Blue glow effect */
        }
       
        /* Group container for checkboxes */
        .checkbox-group {
            display: flex;                /* Flexbox layout */
            flex-direction: column;       /* Vertical stack */
            gap: 12px;                    /* Space between checkboxes */
        }
       
        /* Container for individual checkbox with label */
        .checkbox-item {
            display: flex;                /* Horizontal layout */
            align-items: center;          /* Vertically centers checkbox and label */
            gap: 12px;                    /* Space between checkbox and label */
        }
       
        /* Custom styling for checkbox inputs */
        .checkbox-item input[type="checkbox"] {
            width: 18px;                  /* Fixed width */
            height: 18px;                 /* Fixed height (square) */
            accent-color: var(--primary); /* Custom checkbox color */
        }
       
        /* Checkbox labels */
        .checkbox-item label {
            font-size: 0.95rem;           /* Slightly smaller text */
            color: var(--text);           /* Light text color */
            cursor: pointer;              /* Changes cursor to indicate clickable */
        }
       
        /* Grid layout for password template cards */
        .template-section {
            display: grid;                /* CSS Grid for layout */
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Responsive columns */
            gap: 15px;                    /* Space between cards */
            margin-top: 15px;             /* Space above template section */
        }
       
        /* Individual template card */
        .template-card {
            background: var(--input-bg);  /* Background color */
            border-radius: 12px;          /* Rounded corners */
            padding: 20px;                /* Internal spacing */
            cursor: pointer;              /* Indicates clickable */
            border: 2px solid transparent; /* Transparent border for hover effect */
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Smooth animation */
        }
       
        /* Hover effect for template cards */
        .template-card:hover {
            transform: translateY(-3px);  /* Lifts card slightly */
            border-color: var(--primary); /* Blue border */
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.2); /* Blue-tinted shadow */
        }
       
        /* Active state for selected template card */
        .template-card.active {
            border-color: var(--primary); /* Blue border */
            background: rgba(59, 130, 246, 0.1); /* Light blue background */
        }
       
        /* Template name (title) */
        .template-name {
            font-weight: 600;             /* Semi-bold */
            margin-bottom: 8px;           /* Space below name */
            color: var(--primary);        /* Blue color */
        }
       
        /* Template description text */
        .template-desc {
            font-size: 0.85rem;           /* Smaller text */
            color: var(--muted);          /* Muted color */
            line-height: 1.4;             /* Improves readability */
        }
       
        /* Container for action buttons */
        .action-buttons {
            display: flex;                /* Horizontal layout */
            gap: 15px;                    /* Space between buttons */
            margin-top: 20px;             /* Space above buttons */
            flex-wrap: wrap;              /* Allows wrapping on smaller screens */
        }
       
        /* Base button styling */
        .btn {
            padding: 14px 24px;           /* Generous padding */
            border: none;                 /* No border */
            border-radius: 10px;          /* Rounded corners */
            font-family: 'Inter', Arial, sans-serif; /* Consistent font */
            font-size: 1rem;              /* Standard text size */
            font-weight: 600;             /* Semi-bold */
            cursor: pointer;              /* Indicates clickable */
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Smooth animation */
            display: flex;                /* Flexbox for icon + text */
            align-items: center;          /* Vertically centers */
            gap: 8px;                     /* Space between icon and text */
        }
       
        /* Primary action button (gradient background) */
        .btn-primary {
            background: var(--gradient);  /* Blue to purple gradient */
            color: white;                 /* White text */
        }
       
        /* Hover effect for primary button */
        .btn-primary:hover {
            transform: translateY(-2px);  /* Lifts button */
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4); /* Blue-tinted shadow */
        }
       
        /* Secondary button (outline style) */
        .btn-secondary {
            background: var(--input-bg);  /* Dark background */
            color: var(--text);           /* Light text */
            border: 2px solid var(--input-border); /* Gray border */
        }
       
        /* Hover effect for secondary button */
        .btn-secondary:hover {
            background: var(--input-border); /* Lighter background */
            transform: translateY(-2px);  /* Lifts button */
        }
       
        /* Danger/destructive action button */
        .btn-danger {
            background: var(--danger);    /* Red background */
            color: white;                 /* White text */
        }
       
        /* Hover effect for danger button */
        .btn-danger:hover {
            background: #dc2626;          /* Darker red */
            transform: translateY(-2px);  /* Lifts button */
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4); /* Red-tinted shadow */
        }
       
        /* Grid layout for generated password cards */
        .password-grid {
            display: grid;                /* CSS Grid for layout */
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Responsive columns */
            gap: 20px;                    /* Space between cards */
            margin-top: 20px;             /* Space above grid */
        }
       
        /* Individual generated password card */
        .password-card {
            background: var(--input-bg);  /* Background color */
            border-radius: 12px;          /* Rounded corners */
            padding: 20px;                /* Internal spacing */
            border: 2px solid transparent; /* Transparent border for hover effect */
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Smooth animation */
            position: relative;           /* For positioning child elements */
            animation: fadeInUp 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Entrance animation */
        }
       
        /* Hover effect for password cards */
        .password-card:hover {
            transform: translateY(-5px);  /* Lifts card */
            border-color: var(--primary); /* Blue border */
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.2); /* Blue-tinted shadow */
        }
       
        /* Password text display (monospace font for readability) */
        .password-text {
            font-family: 'Inter', monospace; /* Monospace font for passwords */
            font-size: 1.1rem;            /* Slightly larger text */
            word-break: break-all;        /* Breaks long passwords across lines */
            margin-bottom: 15px;          /* Space below password */
            padding: 12px;                /* Internal spacing */
            background: var(--background); /* Darker background */
            border-radius: 8px;           /* Rounded corners */
            border: 1px solid var(--input-border); /* Subtle border */
        }
       
        /* Container for password action buttons */
        .password-actions {
            display: flex;                /* Horizontal layout */
            gap: 10px;                    /* Space between buttons */
            justify-content: flex-end;    /* Aligns buttons to right */
        }
       
        /* Small icon-only buttons */
        .icon-btn {
            width: 36px;                  /* Fixed width (square) */
            height: 36px;                 /* Fixed height */
            border: none;                 /* No border */
            border-radius: 8px;           /* Rounded corners */
            background: var(--input-border); /* Gray background */
            color: var(--text);           /* Light text/icon color */
            cursor: pointer;              /* Indicates clickable */
            display: flex;                /* Centers icon */
            align-items: center;
            justify-content: center;
            transition: all 0.3s;         /* Smooth transitions */
        }
       
        /* Hover effect for icon buttons */
        .icon-btn:hover {
            background: var(--primary);   /* Changes to blue */
            color: white;                 /* White icon */
            transform: scale(1.1);        /* Slightly enlarges */
        }
       
        /* "Copied!" badge that appears after copying */
        .copied-badge {
            position: absolute;           /* Positioned relative to password card */
            top: 10px;                    /* From top of card */
            right: 10px;                  /* From right of card */
            background: var(--primary);   /* Blue background */
            color: white;                 /* White text */
            padding: 4px 8px;             /* Small padding */
            border-radius: 12px;          /* Rounded pill shape */
            font-size: 0.75rem;           /* Very small text */
            font-weight: 600;             /* Bold weight */
            animation: fadeInZoom 0.3s;   /* Quick fade in animation */
        }
       
        /* Grid layout for favorite passwords */
        .favorites-section {
            display: grid;                /* CSS Grid for layout */
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Responsive columns */
            gap: 20px;                    /* Space between items */
            margin-top: 20px;             /* Space above section */
        }
       
        /* Individual favorite password item */
        .favorite-item {
            background: var(--input-bg);  /* Background color */
            border-radius: 12px;          /* Rounded corners */
            padding: 20px;                /* Internal spacing */
            border-left: 4px solid var(--primary); /* Blue left border as accent */
            transition: all 0.3s;         /* Smooth transition */
        }
       
        /* Hover effect for favorite items */
        .favorite-item:hover {
            transform: translateX(5px);   /* Slides to the right */
        }
       
        /* Favorite password name/title */
        .favorite-name {
            font-weight: 600;             /* Semi-bold */
            margin-bottom: 8px;           /* Space below name */
            color: var(--primary);        /* Blue color */
        }
       
        /* Favorite password text display */
        .favorite-password {
            font-family: 'Inter', monospace; /* Monospace font */
            font-size: 1rem;              /* Standard text size */
            word-break: break-all;        /* Breaks long passwords across lines */
            margin-bottom: 12px;          /* Space below password */
            padding: 10px;                /* Internal spacing */
            background: var(--background); /* Darker background */
            border-radius: 6px;           /* Rounded corners */
        }
       
        /* Warning message styling (yellow/orange) */
        .warning-message {
            background: rgba(245, 158, 11, 0.1); /* Light yellow background */
            border: 1px solid var(--warning); /* Yellow/orange border */
            border-radius: 10px;          /* Rounded corners */
            padding: 15px;                /* Internal spacing */
            margin-bottom: 20px;          /* Space below */
            color: var(--warning);        /* Yellow/orange text */
            font-weight: 600;             /* Bold for emphasis */
        }
       
        /* Informational message styling (blue) */
        .info-message {
            background: rgba(59, 130, 246, 0.1); /* Light blue background */
            border: 1px solid var(--primary); /* Blue border */
            border-radius: 10px;          /* Rounded corners */
            padding: 15px;                /* Internal spacing */
            margin-bottom: 20px;          /* Space below */
            color: var(--primary);        /* Blue text */
            font-size: 0.95rem;           /* Slightly smaller text */
        }
       
        /* Grid layout for password comparison section */
        .comparison-section {
            display: grid;                /* CSS Grid for layout */
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Responsive columns */
            gap: 20px;                    /* Space between comparison items */
        }
       
        /* Individual comparison item */
        .comparison-item {
            background: var(--input-bg);  /* Background color */
            border-radius: 12px;          /* Rounded corners */
            padding: 20px;                /* Internal spacing */
            border: 2px solid transparent; /* Transparent border for active state */
            transition: all 0.3s;         /* Smooth transition */
            position: relative;           /* For positioning child elements */
        }
       
        /* Active state for stronger password in comparison */
        .comparison-item.active {
            border-color: var(--primary); /* Blue border */
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.2); /* Blue-tinted shadow */
        }
       
        /* Header section of comparison item */
        .comparison-header {
            display: flex;                /* Horizontal layout */
            justify-content: space-between; /* Space between password and score */
            align-items: center;          /* Vertically centers */
            margin-bottom: 15px;          /* Space below header */
        }
       
        /* Password display in comparison */
        .comparison-password {
            font-family: 'Inter', monospace; /* Monospace font */
            font-size: 1rem;              /* Standard text size */
            word-break: break-all;        /* Breaks long passwords across lines */
        }
       
        /* Score display in comparison */
        .comparison-score {
            font-weight: 700;             /* Bold weight */
            font-size: 1.2rem;            /* Larger text for emphasis */
        }
       
        /* Detailed analysis text in comparison */
        .comparison-details {
            margin-top: 10px;             /* Space above details */
            font-size: 0.85rem;           /* Smaller text */
            color: var(--muted);          /* Muted color */
        }
       
        /* Input group for comparison section */
        .comparison-input-group {
            display: flex;                /* Horizontal layout */
            gap: 10px;                    /* Space between inputs/buttons */
            margin-bottom: 15px;          /* Space below input group */
        }
       
        /* Text input for comparison */
        .comparison-input {
            flex: 1;                      /* Takes remaining space */
            padding: 12px 16px;           /* Internal spacing */
            border: 2px solid var(--input-border); /* Gray border */
            border-radius: 10px;          /* Rounded corners */
            background: var(--input-bg);  /* Background color */
            color: var(--text);           /* Text color */
            font-family: 'Inter', Arial, sans-serif; /* Consistent font */
            font-size: 1rem;              /* Standard text size */
        }
       
        /* Focus state for comparison inputs */
        .comparison-input:focus {
            outline: none;                /* Removes default outline */
            border-color: var(--primary); /* Changes border to blue */
        }
       
        /* Background for password strength bar */
        .strength-bar-bg {
            width: 100%;                  /* Full width of container */
            height: 8px;                  /* Thin bar */
            background: var(--input-bg);  /* Gray background */
            border-radius: 4px;           /* Rounded ends */
            overflow: hidden;             /* Contains inner bar */
            margin: 10px 0;               /* Vertical spacing */
        }
       
        /* Animated strength bar that fills based on password strength */
        .strength-bar {
            height: 100%;                 /* Full height of container */
            width: 0%;                    /* Starts empty */
            border-radius: 4px;           /* Rounded ends */
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Smooth animation */
            background: var(--danger);    /* Starts red (will be changed by JS) */
        }
       
        /* Label for strength rating */
        .strength-label {
            font-size: 0.9rem;            /* Smaller text */
            font-weight: 600;             /* Semi-bold */
            display: flex;                /* Flexbox for icon + text */
            align-items: center;          /* Vertically centers */
            gap: 8px;                     /* Space between icon and text */
        }
       
        /* Small button to clear/remove comparison item */
        .clear-comparison-btn {
            position: absolute;           /* Positioned in corner of comparison item */
            top: 10px;                    /* From top */
            right: 10px;                  /* From right */
            width: 24px;                  /* Small circle */
            height: 24px;                 /* Small circle */
            border: none;                 /* No border */
            border-radius: 50%;           /* Perfect circle */
            background: var(--danger);    /* Red background */
            color: white;                 /* White X */
            cursor: pointer;              /* Indicates clickable */
            display: flex;                /* Centers X */
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;            /* Small X */
            transition: all 0.3s;         /* Smooth transitions */
        }
       
        /* Hover effect for clear button */
        .clear-comparison-btn:hover {
            background: #dc2626;          /* Darker red */
            transform: scale(1.1);        /* Slightly enlarges */
        }

        /* Media query for tablets and smaller screens */
        @media (max-width: 768px) {
            .top-bar {
                padding: 0 20px;          /* Less horizontal padding */
                height: 60px;             /* Slightly shorter */
            }
           
            .bar-left {
                font-size: 1.1rem;        /* Smaller text */
            }
           
            .session-timer {
                font-size: 0.75rem;       /* Smaller text */
                padding: 3px 8px;         /* Less padding */
            }
           
            .bar-menu {
                width: 40px;              /* Smaller button */
                height: 40px;
            }
           
            .main-content {
                padding-top: 80px;        /* Less top padding */
            }
           
            .dashboard {
                width: 95%;               /* Slightly wider */
            }
           
            .dashboard-section {
                padding: 20px;            /* Less padding */
            }
           
            .form-row {
                grid-template-columns: 1fr; /* Single column layout */
            }
           
            .template-section {
                grid-template-columns: 1fr; /* Single column layout */
            }
           
            .password-grid {
                grid-template-columns: 1fr; /* Single column layout */
            }
           
            .action-buttons {
                flex-direction: column;   /* Stack buttons vertically */
            }
           
            .comparison-section {
                grid-template-columns: 1fr; /* Single column layout */
            }
           
            .comparison-input-group {
                flex-direction: column;   /* Stack inputs vertically */
            }
           
            .menu-overlay .bar-menu-x {
                top: 20px;                /* Closer to edge */
                right: 20px;
            }
        }
       
        /* Media query for mobile phones */
        @media (max-width: 480px) {
            .top-bar {
                padding: 0 15px;          /* Even less padding */
            }
           
            .dashboard-section {
                padding: 15px;            /* Less padding */
            }
           
            .section-title {
                font-size: 1.2rem;        /* Smaller text */
            }
        }
    </style>
</head>
<body>
    <!-- Fixed top navigation bar -->
    <div class="top-bar">
        <div class="bar-left">
            <!-- Page title -->
            <span id="barLeft">Password Maker</span>
            <!-- Session timer display -->
            <div class="session-timer" id="sessionTimer">Session: --</div>
        </div>
        <!-- Hamburger menu button -->
        <button class="bar-menu" id="barMenuBtn" title="Open menu" aria-label="Menu">
            <div class="bar-menu-bars" id="menuBars">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
    </div>
   
    <!-- Full-screen menu overlay (hidden by default) -->
    <div class="menu-overlay" id="menuOverlay">
        <!-- Close button (X) -->
        <div class="bar-menu-x" id="menuX">
            <span class="x1"></span>
            <span class="x2"></span>
        </div>
        <!-- Menu items container -->
        <div class="menu-list">
            <!-- Home menu item -->
            <div class="menu-item-card"><div class="menu-item" id="menuHome"><i class="fas fa-home"></i> Home</div></div>
            <!-- Password Maker menu item (current page) -->
            <div class="menu-item-card"><div class="menu-item" id="menuPasswordMaker"><i class="fas fa-key"></i> Password Maker</div></div>
            <!-- Password Checker menu item -->
            <div class="menu-item-card"><div class="menu-item" id="menuPasswordChecker"><i class="fas fa-shield-alt"></i> Password Security Checker</div></div>
            <!-- Saved Passwords menu item -->
            <div class="menu-item-card"><div class="menu-item" id="menuSavedPasswords"><i class="fas fa-save"></i> Saved Passwords</div></div>
            <!-- FAQ menu item -->
            <div class="menu-item-card"><div class="menu-item" id="menuFAQ"><i class="fas fa-question-circle"></i> FAQ</div></div>
            <!-- About menu item (opens external link) -->
            <div class="menu-item-card"><div class="menu-item" id="menuAbout"><i class="fas fa-info-circle"></i> About</div></div>
            <!-- Logout menu item (red on hover) -->
            <div class="menu-item-card logout"><div class="menu-item" id="menuLogout"><i class="fas fa-sign-out-alt"></i> Log Out</div></div>
        </div>
    </div>
   
    <!-- Main content area (password maker dashboard) -->
    <div class="main-content">
        <div class="dashboard">
            <!-- Configuration Section -->
            <div class="dashboard-section">
                <h2 class="section-title"><i class="fas fa-sliders-h"></i> Password Configuration</h2>
               
                <!-- Warning message (hidden by default) -->
                <div class="warning-message" id="warningMessage" style="display: none;"></div>
                <!-- Informational message -->
                <div class="info-message">
                    <i class="fas fa-info-circle"></i> Configure your password requirements and choose from templates below. Click the "Clear All" button before generating a new password set.
                </div>
               
                <!-- Form row for length and count inputs -->
                <div class="form-row">
                    <div class="input-field">
                        <label for="passwordLength">Password Length</label>
                        <!-- Password length input (8-64 characters) -->
                        <input type="number" id="passwordLength" min="8" max="64" value="16">
                    </div>
                    <div class="input-field">
                        <label for="passwordCount">Number of Passwords</label>
                        <!-- Number of passwords to generate (1-20) -->
                        <input type="number" id="passwordCount" min="1" max="20" value="5">
                    </div>
                </div>
                <br>
                <!-- Checkbox group for password requirements -->
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="includeNumbers" checked>
                        <label for="includeNumbers">Include Numbers (0-9)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="includeSymbols" checked>
                        <label for="includeSymbols">Include Symbols (!@#$%^&*)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="includeUppercase" checked>
                        <label for="includeUppercase">Include Uppercase Letters (A-Z)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="includeLowercase" checked>
                        <label for="includeLowercase">Include Lowercase Letters (a-z)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="avoidAmbiguous">
                        <label for="avoidAmbiguous">Avoid Ambiguous Characters (l, 1, I, 0, O)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="avoidPatterns" checked>
                        <label for="avoidPatterns">Avoid Keyboard Patterns (qwerty, 12345)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="avoidDictionary">
                        <label for="avoidDictionary">Avoid Dictionary Words</label>
                    </div>
                </div>
               
                <!-- Quick Templates section -->
                <h3 style="margin: 25px 0 15px 0; color: var(--text);">Quick Templates</h3>
                <div class="template-section">
                    <!-- Strong Security template -->
                    <div class="template-card" data-template="strong">
                        <div class="template-name">Strong Security</div>
                        <div class="template-desc">16+ chars with all character types</div>
                    </div>
                    <!-- Memorable template -->
                    <div class="template-card" data-template="memorable">
                        <div class="template-name">Memorable</div>
                        <div class="template-desc">12 chars, words allowed, easy to remember</div>
                    </div>
                    <!-- PIN Code template -->
                    <div class="template-card" data-template="pin">
                        <div class="template-name">PIN Code</div>
                        <div class="template-desc">6-8 digit numeric codes</div>
                    </div>
                    <!-- Custom template -->
                    <div class="template-card" data-template="custom">
                        <div class="template-name">Custom</div>
                        <div class="template-desc">Configure your own settings</div>
                    </div>
                </div>
               
                <!-- Action buttons -->
                <div class="action-buttons">
                    <!-- Primary generate button -->
                    <button class="btn btn-primary" id="generateBtn">
                        <i class="fas fa-bolt"></i>
                        Generate Passwords
                    </button>
                    <!-- Bulk generate button -->
                    <button class="btn btn-secondary" id="bulkGenerateBtn">
                        <i class="fas fa-layer-group"></i>
                        Bulk Generate (20)
                    </button>
                    <!-- Clear all button (danger/red) -->
                    <button class="btn btn-danger" id="clearAllBtn">
                        <i class="fas fa-trash"></i>
                        Clear All
                    </button>
                </div>
            </div>
           
            <!-- Generated Passwords Section -->
            <div class="dashboard-section">
                <h2 class="section-title"><i class="fas fa-key"></i> Generated Passwords</h2>
                <!-- Grid for displaying generated passwords -->
                <div class="password-grid" id="passwordGrid">
                    <!-- Empty state message (shown when no passwords generated) -->
                    <div class="info-message" id="emptyMessage">
                        <i class="fas fa-key"></i> No passwords generated yet. Configure your settings and click "Generate Passwords" above.
                    </div>
                </div>
            </div>
           
            <!-- Password Comparison Section -->
            <div class="dashboard-section">
                <h2 class="section-title"><i class="fas fa-balance-scale"></i> Password Comparison</h2>
                <div class="info-message">
                    <i class="fas fa-info-circle"></i> Compare passwords to see which one is more secure. Enter custom passwords or select from generated ones.
                </div>
               
                <!-- Input group for comparison -->
                <div class="comparison-input-group">
                    <!-- First password input -->
                    <input type="text" class="comparison-input" id="comparisonPassword1" placeholder="Enter first password...">
                    <!-- Second password input -->
                    <input type="text" class="comparison-input" id="comparisonPassword2" placeholder="Enter second password...">
                    <!-- Compare button -->
                    <button class="btn btn-primary" id="compareBtn">
                        <i class="fas fa-balance-scale"></i>
                        Compare
                    </button>
                    <!-- Clear comparison button -->
                    <button class="btn btn-danger" id="clearComparisonBtn">
                        <i class="fas fa-times"></i>
                        Clear
                    </button>
                </div>
               
                <!-- Comparison results section -->
                <div class="comparison-section" id="comparisonSection">
                    <!-- Default empty state -->
                    <div class="comparison-item">
                        <div class="comparison-header">
                            <div class="comparison-password">Enter passwords to compare</div>
                            <div class="comparison-score" style="color: var(--muted);">--</div>
                        </div>
                        <div style="color: var(--muted); font-size: 0.9rem;">
                            Enter two passwords above and click "Compare" to see their security scores
                        </div>
                    </div>
                </div>
            </div>
           
            <!-- Favorite Passwords Section -->
            <div class="dashboard-section">
                <!-- Header with title and clear button -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 class="section-title"><i class="fas fa-star"></i> Favorite Passwords</h2>
                    <!-- Clear all favorites button -->
                    <button class="btn btn-danger" id="clearFavoritesBtn">
                        <i class="fas fa-trash"></i>
                        Clear All Favorites
                    </button>
                </div>
                <!-- Grid for favorite passwords -->
                <div class="favorites-section" id="favoritesSection">
                    <!-- Default empty state -->
                    <div class="info-message">
                        <i class="fas fa-star"></i> Save your favorite passwords by clicking the star icon on generated passwords.
                    </div>
                </div>
            </div>
        </div>
    </div>
   
    <!-- JavaScript code for page functionality -->
    <script>
        // ========== SESSION MANAGEMENT FUNCTIONS ==========
       
        // Retrieves the currently logged-in user's session data
        function getLoggedInUser() {
            // Get session data from localStorage
            const sessionData = localStorage.getItem("keysafe-logged-in");
            if (!sessionData) return null; // No session exists
           
            try {
                const data = JSON.parse(sessionData); // Parse JSON string
                const now = Date.now(); // Current timestamp
                // Determine session timeout based on "remember me" setting
                const SESSION_TIMEOUT = data.rememberMe ?
                    30 * 24 * 60 * 60 * 1000 : // 30 days for "remember me" sessions
                    30 * 60 * 1000; // 30 minutes for regular sessions
               
                // Check if session has expired
                if (now - data.loginTime > SESSION_TIMEOUT) {
                    clearLoggedInUser(); // Clear expired session
                    return null; // Return null for no valid session
                }
               
                return data; // Return valid session data
            } catch (e) {
                // If JSON parsing fails, clear the corrupted session
                clearLoggedInUser();
                return null;
            }
        }

        // Clears the logged-in user session from localStorage
        function clearLoggedInUser() {
            localStorage.removeItem("keysafe-logged-in"); // Remove session data
        }

        // Updates the session timer display in the top bar
        function updateSessionTimer() {
            const sessionData = getLoggedInUser(); // Get current session
            const timerElement = document.getElementById("sessionTimer"); // Timer display element
           
            if (!sessionData) {
                // No valid session
                timerElement.textContent = "Session: --";
                timerElement.className = "session-timer"; // Reset classes
                return;
            }
           
            const now = Date.now(); // Current timestamp
            // Determine session timeout duration
            const SESSION_TIMEOUT = sessionData.rememberMe ?
                30 * 24 * 60 * 60 * 1000 : // 30 days for "remember me"
                30 * 60 * 1000; // 30 minutes for regular sessions
           
            // Calculate remaining session time
            const timeRemaining = SESSION_TIMEOUT - (now - sessionData.loginTime);
           
            if (timeRemaining <= 0) {
                // Session has expired
                clearLoggedInUser(); // Clear session
                window.location.href = "login_signup.html"; // Redirect to login
                return;
            }
           
            // Convert milliseconds to minutes and seconds
            const minutes = Math.floor(timeRemaining / 60000);
            const seconds = Math.floor((timeRemaining % 60000) / 1000);
           
            let timerText;
            if (sessionData.rememberMe) {
                // For "remember me" sessions, show days/hours for longer periods
                if (minutes > 1440) { // More than 1 day (24*60)
                    const days = Math.floor(minutes / 1440);
                    timerText = `Session: ${days}d`; // Display in days
                } else if (minutes > 60) {
                    const hours = Math.floor(minutes / 60);
                    timerText = `Session: ${hours}h`; // Display in hours
                } else {
                    timerText = `Session: ${minutes}m`; // Display in minutes
                }
            } else {
                // For regular sessions, show countdown timer (MM:SS)
                timerText = `Session: ${minutes}:${seconds.toString().padStart(2, '0')}`;
            }
           
            timerElement.textContent = timerText; // Update display
           
            // Update styling based on time remaining (for regular sessions only)
            timerElement.className = "session-timer"; // Reset classes
            if (!sessionData.rememberMe) {
                if (minutes < 5) {
                    timerElement.classList.add("danger"); // Red for critical (<5 min)
                } else if (minutes < 10) {
                    timerElement.classList.add("warning"); // Yellow for warning (<10 min)
                }
            }
        }

        // ========== PASSWORD GENERATION LOGIC ==========
       
        // Predefined password templates with different configurations
        const passwordTemplates = {
            strong: {
                length: 16,           // 16 characters
                numbers: true,        // Include numbers
                symbols: true,        // Include symbols
                uppercase: true,      // Include uppercase letters
                lowercase: true,      // Include lowercase letters
                avoidAmbiguous: true, // Avoid ambiguous characters
                avoidPatterns: true,  // Avoid keyboard patterns
                avoidDictionary: true // Avoid dictionary words
            },
            memorable: {
                length: 12,           // 12 characters (shorter, easier to remember)
                numbers: true,        // Include numbers
                symbols: false,       // No symbols (harder to remember)
                uppercase: true,      // Include uppercase letters
                lowercase: true,      // Include lowercase letters
                avoidAmbiguous: false, // Allow ambiguous characters
                avoidPatterns: true,  // Avoid keyboard patterns
                avoidDictionary: false // Allow dictionary words (makes it memorable)
            },
            pin: {
                length: 8,            // 8 digits (standard PIN length)
                numbers: true,        // Only numbers
                symbols: false,       // No symbols
                uppercase: false,     // No letters
                lowercase: false,     // No letters
                avoidAmbiguous: true, // Avoid ambiguous numbers (0, 1)
                avoidPatterns: false, // Allow patterns (123456 is still a pattern)
                avoidDictionary: false // Not applicable for numbers only
            },
            custom: {
                // Will be populated from form values
            }
        };

        // Common keyboard patterns to avoid (makes passwords predictable)
        const keyboardPatterns = ['qwerty', 'asdfgh', 'zxcvbn', '123456', '12345678', '123456789'];
       
        // Common dictionary words to avoid (makes passwords easier to guess)
        const commonWords = ['password', 'admin', 'welcome', 'qwerty', 'letmein', 'monkey', 'dragon'];

        // Returns a random character from the given character set
        function getRandomChar(charSet) {
            return charSet[Math.floor(Math.random() * charSet.length)];
        }

        // Checks if a password contains any forbidden keyboard patterns
        function containsPattern(password, patterns) {
            const lowerPassword = password.toLowerCase(); // Case-insensitive check
            return patterns.some(pattern => lowerPassword.includes(pattern)); // Check each pattern
        }

        // Checks if a password contains any common dictionary words
        function containsDictionaryWord(password) {
            const lowerPassword = password.toLowerCase(); // Case-insensitive check
            return commonWords.some(word => lowerPassword.includes(word)); // Check each word
        }

        // Generates a single password based on configuration
        function generatePassword(config) {
            let charSet = ''; // Will hold all allowed characters
           
            // Define character sets (with or without ambiguous characters)
            const numbers = config.avoidAmbiguous ? '23456789' : '0123456789'; // Excludes 0,1 if ambiguous
            const symbols = '!@#$%^&*()_+-=[]{}|;:,.<>?';
            const uppercase = config.avoidAmbiguous ? 'ABCDEFGHJKLMNPQRSTUVWXYZ' : 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'; // Excludes I,O if ambiguous
            const lowercase = config.avoidAmbiguous ? 'abcdefghijkmnpqrstuvwxyz' : 'abcdefghijklmnopqrstuvwxyz'; // Excludes l,o if ambiguous
           
            // Build character set based on selected options
            if (config.numbers) charSet += numbers;
            if (config.symbols) charSet += symbols;
            if (config.uppercase) charSet += uppercase;
            if (config.lowercase) charSet += lowercase;
           
            // Ensure at least one character type is selected
            if (charSet.length === 0) {
                // Default to all character types if none selected
                charSet = lowercase + uppercase + numbers + symbols;
            }
           
            let password = '';
            let attempts = 0;
            const maxAttempts = 100; // Safety limit to prevent infinite loops
           
            do {
                password = '';
                // Ensure at least one character from each selected type
                if (config.numbers) password += getRandomChar(numbers);
                if (config.symbols) password += getRandomChar(symbols);
                if (config.uppercase) password += getRandomChar(uppercase);
                if (config.lowercase) password += getRandomChar(lowercase);
               
                // Fill the rest randomly from the full character set
                while (password.length < config.length) {
                    password += getRandomChar(charSet);
                }
               
                // Shuffle the password to mix character positions
                password = password.split('').sort(() => Math.random() - 0.5).join('');
                attempts++;
            } while (
                // Regenerate if password contains forbidden patterns AND avoidPatterns is enabled
                (config.avoidPatterns && containsPattern(password, keyboardPatterns)) ||
                // Regenerate if password contains dictionary words AND avoidDictionary is enabled
                (config.avoidDictionary && containsDictionaryWord(password)) ||
                // Ensure minimum attempts for randomness
                attempts < maxAttempts
            );
           
            return password;
        }

        // Gets current configuration from form inputs
        function getCurrentConfig() {
            return {
                length: parseInt(document.getElementById('passwordLength').value) || 16,
                numbers: document.getElementById('includeNumbers').checked,
                symbols: document.getElementById('includeSymbols').checked,
                uppercase: document.getElementById('includeUppercase').checked,
                lowercase: document.getElementById('includeLowercase').checked,
                avoidAmbiguous: document.getElementById('avoidAmbiguous').checked,
                avoidPatterns: document.getElementById('avoidPatterns').checked,
                avoidDictionary: document.getElementById('avoidDictionary').checked
            };
        }

        // Shows warning message at top of configuration section
        function showWarning(message) {
            const warningElement = document.getElementById('warningMessage');
            if (message) {
                warningElement.style.display = 'block'; // Show warning
                warningElement.innerHTML = `<i class="fas fa-exclamation-triangle"></i> ${message}`; // Add icon and message
            } else {
                warningElement.style.display = 'none'; // Hide warning
            }
        }

        // Validates password configuration before generation
        function validateConfig(config) {
            // Check if at least one character type is selected
            if (!config.numbers && !config.symbols && !config.uppercase && !config.lowercase) {
                showWarning('Please select at least one character type for password generation.');
                return false;
            }
           
            // Check minimum password length
            if (config.length < 8) {
                showWarning('Password length should be at least 8 characters for security.');
                return false;
            }
           
            showWarning(''); // Clear any existing warnings
            return true; // Configuration is valid
        }

        // ========== PASSWORD ANALYSIS FUNCTIONS FOR COMPARISON ==========
       
        // Analyzes password and returns detailed score and metrics
        function analyzePasswordDetails(password) {
            if (!password) {
                // Return zero score for empty password
                return {
                    score: 0,
                    details: {}
                };
            }

            // Define scoring criteria with weights
            const details = {
                length: { value: password.length, max: 20, weight: 25 }, // 25% weight for length (capped at 20 chars)
                uppercase: { value: /[A-Z]/.test(password), weight: 15 }, // 15% weight for uppercase
                lowercase: { value: /[a-z]/.test(password), weight: 15 }, // 15% weight for lowercase
                numbers: { value: /\d/.test(password), weight: 15 }, // 15% weight for numbers
                symbols: { value: /[^a-zA-Z0-9]/.test(password), weight: 15 }, // 15% weight for symbols
                dictionary: { value: !containsDictionaryWord(password), weight: 10 }, // 10% weight for avoiding dictionary words
                keyboardPattern: { value: !containsPattern(password, keyboardPatterns), weight: 10 }, // 10% weight for avoiding patterns
                commonPassword: { value: !isCommonPassword(password), weight: 15 } // 15% weight for not being a common password
            };
           
            let score = 0; // Accumulated score
            let maxScore = 0; // Maximum possible score
           
            // Calculate score based on criteria
            for (let [key, detail] of Object.entries(details)) {
                let points = 0;
                if (typeof detail.value === 'boolean') {
                    // Boolean criteria: full weight if true, 0 if false
                    points = detail.value ? detail.weight : 0;
                } else {
                    // Numeric criteria: proportional to value (e.g., length)
                    points = Math.min(detail.value / detail.max, 1) * detail.weight;
                }
                score += points;
                maxScore += detail.weight;
            }
           
            // Convert to percentage (0-100)
            const finalScore = Math.max(0, Math.min(100, (score / maxScore) * 100));
           
            return {
                score: finalScore,
                details: details
            };
        }

        // Checks if password is in the list of extremely common passwords
        function isCommonPassword(password) {
            return commonWords.includes(password.toLowerCase()); // Case-insensitive check
        }

        // Returns strength state (label, color, icon) based on score
        function getStrengthState(score) {
            if (score < 20) return { label: "Very Weak", color: "#ef4444", icon: "fas fa-times-circle" }; // Red
            if (score < 40) return { label: "Weak", color: "#f59e0b", icon: "fas fa-exclamation-triangle" }; // Orange/Yellow
            if (score < 60) return { label: "Fair", color: "#3b82f6", icon: "fas fa-info-circle" }; // Blue
            if (score < 80) return { label: "Good", color: "#10b981", icon: "fas fa-check-circle" }; // Green
            return { label: "Excellent", color: "#059669", icon: "fas fa-shield-alt" }; // Dark Green
        }

        // ========== TEMPLATE SELECTION ==========
       
        // Add click handlers to template cards
        document.querySelectorAll('.template-card').forEach(card => {
            card.addEventListener('click', function() {
                // Remove active class from all cards
                document.querySelectorAll('.template-card').forEach(c => c.classList.remove('active'));
                // Add active class to clicked card
                this.classList.add('active');
               
                const template = this.dataset.template; // Get template name from data attribute
                if (template !== 'custom') {
                    // Load predefined template settings into form
                    const config = passwordTemplates[template];
                    document.getElementById('passwordLength').value = config.length;
                    document.getElementById('includeNumbers').checked = config.numbers;
                    document.getElementById('includeSymbols').checked = config.symbols;
                    document.getElementById('includeUppercase').checked = config.uppercase;
                    document.getElementById('includeLowercase').checked = config.lowercase;
                    document.getElementById('avoidAmbiguous').checked = config.avoidAmbiguous;
                    document.getElementById('avoidPatterns').checked = config.avoidPatterns;
                    document.getElementById('avoidDictionary').checked = config.avoidDictionary;
                }
            });
        });

        // ========== PASSWORD GENERATION EVENT HANDLERS ==========
       
        // Generate passwords button click handler
        document.getElementById('generateBtn').addEventListener('click', function() {
            const config = getCurrentConfig(); // Get current form configuration
            if (!validateConfig(config)) return; // Validate, return if invalid
           
            const count = parseInt(document.getElementById('passwordCount').value) || 5; // Get number of passwords to generate
            generateAndDisplayPasswords(config, count); // Generate and display
        });

        // Bulk generate button click handler (always generates 20 passwords)
        document.getElementById('bulkGenerateBtn').addEventListener('click', function() {
            const config = getCurrentConfig(); // Get current form configuration
            if (!validateConfig(config)) return; // Validate, return if invalid
           
            generateAndDisplayPasswords(config, 20); // Always generate 20 passwords
        });

        // Generates and displays passwords in the grid
        function generateAndDisplayPasswords(config, count) {
            const passwordGrid = document.getElementById('passwordGrid'); // Grid container
            const emptyMessage = document.getElementById('emptyMessage'); // Empty state message
           
            // Clear previous passwords
            passwordGrid.innerHTML = '';
            emptyMessage.style.display = 'none'; // Hide empty message
           
            // Generate and display passwords
            for (let i = 0; i < count; i++) {
                const password = generatePassword(config); // Generate single password
                const passwordCard = createPasswordCard(password, i); // Create card element
                passwordGrid.appendChild(passwordCard); // Add to grid
            }
        }

        // Creates HTML card element for a generated password
        function createPasswordCard(password, index) {
            const card = document.createElement('div');
            card.className = 'password-card';
            card.style.animationDelay = `${index * 0.1}s`; // Staggered animation
           
            // Card HTML structure
            card.innerHTML = `
                <div class="password-text">${password}</div>
                <div class="password-actions">
                    <button class="icon-btn copy-btn" title="Copy password">
                        <i class="fas fa-copy"></i>
                    </button>
                    <button class="icon-btn favorite-btn" title="Add to favorites">
                        <i class="far fa-star"></i>
                    </button>
                    <button class="icon-btn compare-btn" title="Use for comparison">
                        <i class="fas fa-balance-scale"></i>
                    </button>
                </div>
            `;
           
            // Copy button functionality
            const copyBtn = card.querySelector('.copy-btn');
            copyBtn.addEventListener('click', function() {
                navigator.clipboard.writeText(password); // Copy to clipboard
                showCopiedBadge(card); // Show confirmation badge
            });
           
            // Favorite button functionality
            const favoriteBtn = card.querySelector('.favorite-btn');
            favoriteBtn.addEventListener('click', function() {
                addToFavorites(password); // Add to favorites
                favoriteBtn.innerHTML = '<i class="fas fa-star"></i>'; // Change to filled star
                favoriteBtn.style.color = 'var(--warning)'; // Change to yellow color
            });
           
            // Compare button functionality
            const compareBtn = card.querySelector('.compare-btn');
            compareBtn.addEventListener('click', function() {
                // Add to first comparison field if empty, otherwise to second
                const field1 = document.getElementById('comparisonPassword1');
                const field2 = document.getElementById('comparisonPassword2');
               
                if (!field1.value) {
                    field1.value = password; // Fill first field if empty
                } else if (!field2.value) {
                    field2.value = password; // Fill second field if empty
                } else {
                    // Both fields have values, replace the second one
                    field2.value = password;
                }
               
                // Trigger comparison if both fields have values
                if (field1.value && field2.value) {
                    comparePasswords(); // Automatically compare
                }
            });
           
            return card; // Return the created card element
        }

        // Shows "Copied!" badge on password card
        function showCopiedBadge(element) {
            const existingBadge = element.querySelector('.copied-badge');
            if (existingBadge) existingBadge.remove(); // Remove existing badge if present
           
            const badge = document.createElement('div');
            badge.className = 'copied-badge';
            badge.textContent = 'Copied!';
            element.appendChild(badge); // Add badge to card
           
            // Remove badge after 2 seconds
            setTimeout(() => {
                if (badge.parentNode) badge.parentNode.removeChild(badge);
            }, 2000);
        }

        // ========== PASSWORD COMPARISON FUNCTIONALITY ==========
       
        // Compare button click handler
        document.getElementById('compareBtn').addEventListener('click', comparePasswords);

        // Compares two passwords and displays results
        function comparePasswords() {
            const password1 = document.getElementById('comparisonPassword1').value;
            const password2 = document.getElementById('comparisonPassword2').value;
           
            if (!password1 || !password2) {
                alert('Please enter both passwords to compare.');
                return;
            }
           
            // Analyze both passwords
            const analysis1 = analyzePasswordDetails(password1);
            const analysis2 = analyzePasswordDetails(password2);
           
            // Get strength states (label, color, icon)
            const state1 = getStrengthState(analysis1.score);
            const state2 = getStrengthState(analysis2.score);
           
            const comparisonSection = document.getElementById('comparisonSection');
            comparisonSection.innerHTML = ''; // Clear previous comparison
           
            // Create comparison items
            const item1 = createComparisonItem(password1, analysis1, state1, 1);
            const item2 = createComparisonItem(password2, analysis2, state2, 2);
           
            comparisonSection.appendChild(item1);
            comparisonSection.appendChild(item2);
           
            // Highlight the stronger password
            if (analysis1.score > analysis2.score) {
                item1.classList.add('active'); // Password 1 is stronger
            } else if (analysis2.score > analysis1.score) {
                item2.classList.add('active'); // Password 2 is stronger
            } else {
                // Both have same score
                item1.classList.add('active');
                item2.classList.add('active');
            }
        }

        // Creates HTML element for password comparison item
        function createComparisonItem(password, analysis, state, index) {
            const item = document.createElement('div');
            item.className = 'comparison-item';
            item.style.animationDelay = `${index * 0.1}s`; // Staggered animation
           
            const details = analysis.details;
            const detailText = []; // Array for detailed analysis text
           
            // Build detailed analysis text
            if (details.length.value >= 12) detailText.push(`${details.length.value} chars`);
            else detailText.push(`Short (${details.length.value} chars)`);
           
            if (details.uppercase.value) detailText.push('A-Z');
            if (details.lowercase.value) detailText.push('a-z');
            if (details.numbers.value) detailText.push('0-9');
            if (details.symbols.value) detailText.push('Symbols');
            if (!details.dictionary.value) detailText.push('Dictionary');
            if (!details.keyboardPattern.value) detailText.push('Pattern');
            if (!details.commonPassword.value) detailText.push('Common');
           
            // Item HTML structure
            item.innerHTML = `
                <button class="clear-comparison-btn" title="Remove from comparison"></button>
                <div class="comparison-header">
                    <div class="comparison-password">${''.repeat(Math.min(password.length, 12))}${password.length > 12 ? '...' : ''}</div>
                    <div class="comparison-score" style="color: ${state.color};">${Math.round(analysis.score)}%</div>
                </div>
                <div class="strength-bar-bg">
                    <div class="strength-bar" style="width: ${analysis.score}%; background: ${state.color};"></div>
                </div>
                <div class="strength-label" style="color: ${state.color};">
                    <i class="${state.icon}"></i>
                    ${state.label}
                </div>
                <div class="comparison-details">
                    ${detailText.join('  ')}
                </div>
            `;
           
            // Add event listener to remove button
            const removeBtn = item.querySelector('.clear-comparison-btn');
            removeBtn.addEventListener('click', function() {
                // Clear the corresponding input field
                if (index === 1) {
                    document.getElementById('comparisonPassword1').value = '';
                } else {
                    document.getElementById('comparisonPassword2').value = '';
                }
                // Remove this comparison item
                item.remove();
               
                // If no comparison items left, show default message
                const comparisonSection = document.getElementById('comparisonSection');
                if (comparisonSection.children.length === 0) {
                    comparisonSection.innerHTML = `
                        <div class="comparison-item">
                            <div class="comparison-header">
                                <div class="comparison-password">Enter passwords to compare</div>
                                <div class="comparison-score" style="color: var(--muted);">--</div>
                            </div>
                            <div style="color: var(--muted); font-size: 0.9rem;">
                                Enter two passwords above and click "Compare" to see their security scores
                            </div>
                        </div>
                    `;
                }
            });
           
            return item; // Return the created comparison item
        }

        // ========== CLEAR ALL FUNCTIONALITY ==========
       
        // Clear All button click handler
        document.getElementById('clearAllBtn').addEventListener('click', function() {
            // Clear password requirements (uncheck all checkboxes)
            document.getElementById('includeNumbers').checked = false;
            document.getElementById('includeSymbols').checked = false;
            document.getElementById('includeUppercase').checked = false;
            document.getElementById('includeLowercase').checked = false;
            document.getElementById('avoidAmbiguous').checked = false;
            document.getElementById('avoidPatterns').checked = false;
            document.getElementById('avoidDictionary').checked = false;
           
            // Clear generated passwords (show empty state)
            document.getElementById('passwordGrid').innerHTML = `
                <div class="info-message" id="emptyMessage">
                    <i class="fas fa-key"></i> No passwords generated yet. Configure your settings and click "Generate Passwords" above.
                </div>
            `;
           
            // Clear comparison section
            clearComparison();
           
            // Clear favorites section
            clearAllFavorites();
           
            // Show confirmation message
            showWarning('All settings, passwords, comparisons, and favorites have been cleared.');
            setTimeout(() => {
                showWarning(''); // Clear warning after 3 seconds
            }, 3000);
        });

        // ========== COMPARISON CLEAR FUNCTIONALITY ==========
       
        // Clear Comparison button click handler
        document.getElementById('clearComparisonBtn').addEventListener('click', clearComparison);

        // Clears the comparison section
        function clearComparison() {
            document.getElementById('comparisonPassword1').value = ''; // Clear first input
            document.getElementById('comparisonPassword2').value = ''; // Clear second input
            // Reset to default empty state
            document.getElementById('comparisonSection').innerHTML = `
                <div class="comparison-item">
                    <div class="comparison-header">
                        <div class="comparison-password">Enter passwords to compare</div>
                        <div class="comparison-score" style="color: var(--muted);">--</div>
                    </div>
                    <div style="color: var(--muted); font-size: 0.9rem;">
                        Enter two passwords above and click "Compare" to see their security scores
                    </div>
                </div>
            `;
        }

        // ========== FAVORITES MANAGEMENT ==========
       
        // Clear Favorites button click handler
        document.getElementById('clearFavoritesBtn').addEventListener('click', clearAllFavorites);

        // Clears all favorite passwords after confirmation
        function clearAllFavorites() {
            if (confirm('Are you sure you want to clear all favorite passwords? This action cannot be undone.')) {
                saveFavorites([]); // Save empty array
                displayFavorites(); // Update display
            }
        }

        // ========== FAVORITES STORAGE FUNCTIONS ==========
       
        // Generates user-specific key for storing favorites in localStorage
        function getFavoritesKey() {
            const sessionData = getLoggedInUser(); // Get current user session
            const username = sessionData ? sessionData.username : 'default'; // Use username or 'default'
            return `keysafe-favorites-${username}`; // User-specific key
        }

        // Retrieves favorite passwords from localStorage
        function getFavorites() {
            return JSON.parse(localStorage.getItem(getFavoritesKey()) || '[]'); // Parse or return empty array
        }

        // Saves favorite passwords to localStorage
        function saveFavorites(favorites) {
            localStorage.setItem(getFavoritesKey(), JSON.stringify(favorites)); // Store as JSON
        }

        // Adds a password to favorites (if not already present)
        function addToFavorites(password) {
            const favorites = getFavorites(); // Get current favorites
            if (!favorites.includes(password)) {
                favorites.push(password); // Add new password
                saveFavorites(favorites); // Save updated list
                displayFavorites(); // Update display
            }
        }

        // Removes a password from favorites
        function removeFromFavorites(password) {
            const favorites = getFavorites(); // Get current favorites
            const index = favorites.indexOf(password); // Find password index
            if (index > -1) {
                favorites.splice(index, 1); // Remove from array
                saveFavorites(favorites); // Save updated list
                displayFavorites(); // Update display
            }
        }

        // Displays favorite passwords in the favorites section
        function displayFavorites() {
            const favoritesSection = document.getElementById('favoritesSection'); // Container
            const favorites = getFavorites(); // Get favorite passwords
           
            if (favorites.length === 0) {
                // Show empty state if no favorites
                favoritesSection.innerHTML = `
                    <div class="info-message">
                        <i class="fas fa-star"></i> Save your favorite passwords by clicking the star icon on generated passwords.
                    </div>
                `;
                return;
            }
           
            favoritesSection.innerHTML = ''; // Clear previous favorites
           
            // Create HTML element for each favorite password
            favorites.forEach((password, index) => {
                const favoriteItem = document.createElement('div');
                favoriteItem.className = 'favorite-item';
                favoriteItem.style.animationDelay = `${index * 0.1}s`; // Staggered animation
               
                // Item HTML structure
                favoriteItem.innerHTML = `
                    <div class="favorite-name">Favorite Password ${index + 1}</div>
                    <div class="favorite-password">${password}</div>
                    <div class="password-actions">
                        <button class="icon-btn copy-btn" title="Copy password">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button class="icon-btn compare-btn" title="Use for comparison">
                            <i class="fas fa-balance-scale"></i>
                        </button>
                        <button class="icon-btn remove-btn" title="Remove from favorites">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
               
                // Copy button functionality
                const copyBtn = favoriteItem.querySelector('.copy-btn');
                copyBtn.addEventListener('click', function() {
                    navigator.clipboard.writeText(password); // Copy to clipboard
                    showCopiedBadge(favoriteItem); // Show confirmation badge
                });
               
                // Compare button functionality
                const compareBtn = favoriteItem.querySelector('.compare-btn');
                compareBtn.addEventListener('click', function() {
                    // Add to comparison fields
                    const field1 = document.getElementById('comparisonPassword1');
                    const field2 = document.getElementById('comparisonPassword2');
                   
                    if (!field1.value) {
                        field1.value = password; // Fill first field if empty
                    } else if (!field2.value) {
                        field2.value = password; // Fill second field if empty
                    } else {
                        field2.value = password; // Replace second field
                    }
                   
                    // Trigger comparison if both fields have values
                    if (field1.value && field2.value) {
                        comparePasswords(); // Automatically compare
                    }
                });
               
                // Remove button functionality
                const removeBtn = favoriteItem.querySelector('.remove-btn');
                removeBtn.addEventListener('click', function() {
                    removeFromFavorites(password); // Remove from favorites
                });
               
                favoritesSection.appendChild(favoriteItem); // Add to favorites section
            });
        }

        // ========== MENU FUNCTIONALITY (Shared with other pages) ==========
       
        // Get references to menu elements
        const menuBtn = document.getElementById("barMenuBtn");
        const menuOverlay = document.getElementById("menuOverlay");
        const menuBars = document.getElementById("menuBars");
        const menuX = document.getElementById("menuX");
        let menuOpen = false;
        let menuCloseTimeout = null;
       
        // Open menu when hamburger button is clicked
        menuBtn.onclick = function(e) {
            e.stopPropagation(); // Prevent event from bubbling up
            if (!menuOpen) {
                menuOverlay.classList.add("active"); // Show overlay
                menuOverlay.classList.remove("closing"); // Remove closing state
                menuBars.style.display = "none"; // Hide hamburger bars
                menuOpen = true; // Update state
                // Add subtle animation to menu button
                menuBtn.style.transform = "scale(0.9)";
                setTimeout(() => {
                    menuBtn.style.transform = "scale(1)";
                }, 150);
            }
        };
       
        // Close menu when X button is clicked
        menuX.onclick = function(e) {
            e.stopPropagation(); // Prevent event from bubbling up
            if (menuOpen) {
                menuOverlay.classList.remove("active"); // Remove active state
                menuOverlay.classList.add("closing"); // Add closing animation
                menuBars.style.display = "flex"; // Show hamburger bars again
                menuOpen = false; // Update state
                // Add subtle animation to close button
                menuX.style.transform = "scale(0.9)";
                setTimeout(() => {
                    menuX.style.transform = "scale(1)";
                }, 150);
               
                // Clear any existing timeout and set new one
                clearTimeout(menuCloseTimeout);
                menuCloseTimeout = setTimeout(() => {
                    menuOverlay.classList.remove("closing"); // Remove closing class after animation
                }, 350); // Match CSS animation duration
            }
        };
       
        // Close menu when clicking on overlay background (not menu items)
        menuOverlay.onclick = function(e) {
            if(e.target === menuOverlay && menuOpen) {
                menuX.onclick(e); // Trigger close button click
            }
        };
       
        // Helper function to close the menu
        function closeMenu() {
            if (menuOpen) {
                menuX.onclick(new Event("click")); // Simulate click on close button
            }
        }
       
        // ========== MENU NAVIGATION HANDLERS ==========
       
        // Home menu item click handler
        document.getElementById("menuHome").onclick = function() {
            closeMenu(); // Close menu first
            window.location.href = "index.html"; // Navigate to home
        };
       
        // Password Maker menu item click handler (current page)
        document.getElementById("menuPasswordMaker").onclick = function() {
            closeMenu();
            window.location.href = "password_maker.html"; // Refresh/redirect to same page
        };
       
        // Password Checker menu item click handler
        document.getElementById("menuPasswordChecker").onclick = function() {
            closeMenu();
            window.location.href = "password_checker.html";
        };
       
        // Saved Passwords menu item click handler
        document.getElementById("menuSavedPasswords").onclick = function() {
            closeMenu();
            window.location.href = "password_saved.html";
        };
       
        // FAQ menu item click handler
        document.getElementById("menuFAQ").onclick = function() {
            closeMenu();
            window.location.href = "faq.html";
        };
       
        // About menu item click handler (opens external link in new tab)
        document.getElementById("menuAbout").onclick = function() {
            closeMenu();
            window.open("https://kingfarooq.github.io", "_blank"); // Open in new tab
        };
       
        // Logout menu item click handler
        document.getElementById("menuLogout").onclick = function() {
            clearLoggedInUser(); // Clear session data
            window.location.href = "login_signup.html"; // Redirect to login
        };

        // ========== PAGE INITIALIZATION ==========
       
        // Initializes the page when it loads
        function initPage() {
            // Check if user is logged in
            if (!getLoggedInUser()) {
                window.location.href = "login_signup.html"; // Redirect to login if not
                return;
            }
           
            updateSessionTimer(); // Initialize session timer display
            setInterval(updateSessionTimer, 1000); // Update timer every second
           
            // Set default template to "Strong Security"
            document.querySelector('.template-card[data-template="strong"]').classList.add('active');
           
            // Load and display favorite passwords
            displayFavorites();
        }

        // Initialize page when DOM is fully loaded
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>
